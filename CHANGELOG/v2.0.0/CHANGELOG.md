v2.0 - Koharu（小鸟游星野） release 1

## 🚀 主要更新

- 新增 **获取星期几功能**，新增 `_get_current_day_of_week()` 函数用于获取当前是星期几
- 新增 **按星期几获取上课时间段功能**，新增 `get_class_times_by_day()` 和 `get_class_times_by_day_with_week()` 方法，支持按星期几和周数（单数/双数）获取上课时间段
- 新增 **智能拖动识别系统**，实现基于时间和距离的多因素拖动检测算法
- 新增 **关于页面图标**，新增按钮与版权信息图标显示
- 新增 **浮窗大小设置**，支持浮窗与收纳浮窗7档大小调节

## 💡 功能优化

- 优化 **时间判断逻辑**，重构 `_is_non_class_time()` 函数，改为直接判断当前时间是否在上课时间段内
- 优化 **代码结构与复用性**，新增 `_sort_timeslots_by_time()`、`_build_subject_teacher_map()`、`_get_cses_parser()` 等方法，统一使用 `str | int` 格式替代 `Union[str, int]`
- 优化 **extract.py代码结构**，调整导入顺序为"标准库→第三方库→本地模块"，按功能分组函数
- 优化 **设置持久化功能**，修复**浮动窗口拖动开关**和**长按持续时间设置**在应用重启后不生效的问题
- 优化 **拖动检测算法**，将基础拖动阈值从3px提高到8px，添加50ms最小拖动时间要求
- 优化 **导入功能**，新增传递下拉框中选中的**班级名称**和**奖池名称**到导入窗口
- 优化 **通知服务设置**，将**通知显示时长**设置从基础设置中分离，创建独立的**classisland通知服务设置**分类
- 优化 **UI稳定性**，为每个UI操作添加独立异常处理，确保对象删除时不会崩溃，文件监视器响应机制更安全
- 优化 **CSES文件导入管理**，统一保存文件名为 `cses_schedule.yml`，每次导入自动覆盖旧文件
- 优化 **浮窗显示效果**，字体随大小动态调整，收纳浮窗位置边缘距离动态调整

## 🐛 修复问题

- 修复 **主窗口大小保存功能**，修复主窗口大小无法正确保存和恢复的问题
- 修复 **侧边栏显示控制**，修复侧边栏设置中的"不显示"选项无效问题
- 修复 **课间禁用功能失效问题**，修复由于时间段排序错误、星期几分组错误和时间解析失败导致的功能异常
- 修复 **时间段排序与解析问题**，修复按字符串排序导致的时间顺序错误，改为按实际时间值（秒数）排序，修复整数时间解析问题
- 修复 **异步函数与模块导入问题**，修复 `readme_settings_async` 导致的 coroutine 对象问题，将 `shutil`、`os` 等导入移至适当位置
- 修复 **拖动功能问题**，解决即使禁用拖动功能仍然可以拖动窗口的问题，解决按钮点击容易被误识别为拖动操作的问题，修复DraggableWidget组件未正确继承主窗口拖动权限的问题
- 修复 **收纳浮窗显示问题**，修复文本颜色、透明度计算、背景色、CSS样式冲突、圆角效果等问题
- 修复 **名单统计与管理界面**，新增过滤标记为"不存在"的学生/奖品，确保剩余数量显示准确，优化UI组件操作的安全性
- 修复 **倒计时逻辑**，确保显示数字与实际关闭时间一致，修复倒计时显示0后立即关闭问题

## 🔧 其它变更

- 无

---

💝 **感谢所有贡献者为 SecRandom 项目付出的努力！**

<!--
撰写 CHANGELOG.md 时，请统一采用「新增/优化/修复」+「**功能名称**」+「更新内容」的句式，示例：
- 新增 **更新通知弹窗**，新增「今日不再提醒」选项
- 优化 **课间禁用功能**，新增点名/抽奖「开始」按钮的禁用提示
- 修复 **DPI 缩放问题**，新增界面字体与比例异常修复

要求：
1. 每条限 25 字以内，避免冗余；
2. 关键名称或特性加**粗**；
3. 同类项合并，保持顺序一致。
-->
